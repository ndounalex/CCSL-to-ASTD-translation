{"target":"c++","imports":["delayForModule.cpp","utils.cpp"],"type_definitions":{"schemas":[],"native_types":{"Timer":{"type_symbol":"Timer","destructor":"~Timer"}},"events":[]},"top_level_astds":[{"name":"TCS","parameters":[{"name":"MAX","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"MIN","type":"int","domain":{"type":"UnboundedDomain"}}],"type":"Flow","typed_astd":{"attributes":[{"name":"diagnostic_to_control","type":"Timer","initial_value":"0"},{"name":"withChange","type":"bool","initial_value":"false"},{"name":"temperature","type":"float","initial_value":"MIN"},{"name":"nb_insert","type":"int","initial_value":"0"},{"name":"nb_remove","type":"int","initial_value":"0"},{"name":"d","type":"int","initial_value":"0"},{"name":"c","type":"int","initial_value":"1"},{"name":"s","type":"int","initial_value":"2"},{"name":"clocks","type":"string","initial_value":"0000000"},{"name":"p","type":"int","initial_value":"3"},{"name":"r","type":"int","initial_value":"4"},{"name":"i","type":"int","initial_value":"5"},{"name":"z","type":"int","initial_value":"6"}],"code":"","interruptCode":"","left_astd":{"name":"ASTDSpecGuard","type":"PersistentGuard","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"clocks==\"0000000\"","sub_astd":{"name":"ASTDSpec","type":"Flow","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"ASTDSpecPart1","type":"Flow","typed_astd":{"attributes":[],"code":"","interruptCode":"","left_astd":{"name":"Diagnostic","type":"PersistentGuard","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"!diagnostic_to_control.expired(1E11)","sub_astd":{"name":"ExecuteDiagnostic","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S2","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"diagnostic","parameters":[],"when":[]},"guard":"","action":"{clocks=\"1000000\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S2"},"event_template":{"label":"reconfig","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"status","type":"bool"}}],"when":[]},"guard":"","action":"{withChange=status;clocks=\"0000000\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S2","to_state_name":"S0"},"event_template":{"label":"status_update","parameters":[],"when":[]},"guard":"withChange","action":"{clocks=\"0110000\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S2","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"!withChange","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"updateTemperature","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"set_temperature","parameters":[{"parameter_kind":"Capture","parameter":{"variable_name":"value","type":"float"}}],"when":[]},"guard":"","action":"{temperature=value;}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"Control","type":"PersistentGuard","typed_astd":{"attributes":[],"code":"","interruptCode":"","guard":"diagnostic_to_control.expired(1E11)","sub_astd":{"name":"ExecuteControl","type":"Automaton","typed_astd":{"attributes":[{"name":"periodic_timer","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","states":[{"name":"PeriodicSenseLoop","astd":{"name":"PeriodicSenseLoop","type":"Automaton","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S1"},"event_template":{"label":"periodic_sense","parameters":[],"when":[]},"guard":"periodic_timer.expired(1E10)","action":"{periodic_timer.reset_clock();clocks=\"0001000\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S1"},"event_template":{"label":"periodic_sense","parameters":[],"when":[]},"guard":"periodic_timer.expired(1E10)","action":"{periodic_timer.reset_clock();clocks=\"0001000\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S0"},"event_template":{"label":"insert_rod","parameters":[],"when":[]},"guard":"((MAX<=temperature)&&(nb_insert-nb_remove!=2))","action":"{nb_insert++;clocks=\"0000011\";}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S0"},"event_template":{"label":"remove_rod","parameters":[],"when":[]},"guard":"temperature<MIN","action":"{nb_remove++;clocks=\"0000101\";}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"entry_code":"","stay_code":"","exit_code":""},{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"PeriodicSenseLoop","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"((MIN<temperature) && (temperature<MAX))","action":"{diagnostic_to_control.reset_clock();}","step":false,"from_final_state_only":false}],"shallow_final_state_names":["S1"],"deep_final_state_names":[],"initial_state_name":"PeriodicSenseLoop"}}}}}}}},"right_astd":{"name":"Observer","type":"Call","typed_astd":{"called_astd_name":"TCS_Observer","call_arguments":[{"name":"d","value":{"type":"Expression","content":"d"}},{"name":"c","value":{"type":"Expression","content":"c"}},{"name":"s","value":{"type":"Expression","content":"s"}},{"name":"p","value":{"type":"Expression","content":"p"}},{"name":"i","value":{"type":"Expression","content":"i"}},{"name":"r","value":{"type":"Expression","content":"r"}},{"name":"z","value":{"type":"Expression","content":"z"}},{"name":"clocks","value":{"type":"Expression","content":"clocks"}}]}}}},{"name":"TCS_Observer","parameters":[{"name":"d","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"c","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"s","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"p","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"i","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"r","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"z","type":"int","domain":{"type":"UnboundedDomain"}},{"name":"clocks","type":"string","domain":{"type":"UnboundedDomain"}}],"type":"Synchronization","invariant":"","typed_astd":{"attributes":[{"name":"diagnostic_to_control","type":"Timer","initial_value":"0"},{"name":"nb_i","type":"int","initial_value":"0"},{"name":"nb_r","type":"int","initial_value":"0"}],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"Control_CCSL","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"P_discretizedBy_10","type":"Automaton","invariant":"","typed_astd":{"attributes":[{"name":"periodic_sense_timer","type":"Timer","initial_value":"0"}],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"","action":"{periodic_sense_timer.reset_clock();}","step":false,"from_final_state_only":false},{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"((clocks[p]=='1')&&(periodic_sense_timer.expired(1E10)))","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"T1","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"P_alternateWith_Z","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"P_precede_Z","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n((history[z]-history[p])!=0)||\n(clocks[z]=='0')\n)","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"Z_precede_P","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n((history[p]-history[z])!=1)||\n(clocks[p]=='0')\n)","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"T2","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"iUr","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S1","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S1","to_state_name":"S1"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n(clocks[z]-'0')==((clocks[r]-'0')+(clocks[i]-'0'))\n)","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S1"}},"right_astd":{"name":"T3","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"exclusion","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"((clocks[i]=='0') || (clocks[r]=='0'))","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"T4","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"IbeforeR","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n((history[r]-history[i])!=0)||\n(clocks[r]=='0')\n)","action":"{\nupdateHistory(history,clocks);\n}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"RprecedeI","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n((history[i]-history[r])!=2)||\n(clocks[i]=='0')\n)","action":"{clocks=\"0000000\";}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}}}}}}},"right_astd":{"name":"Diagnostic_CCSL","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"D_alternateWith_C","type":"Synchronization","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","synchronization_set":["Step"],"left_astd":{"name":"D_precede_C","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(((history[c]-history[d])!=0)||(clocks[c]=='0'))","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}},"right_astd":{"name":"C_precede_D","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"(\n((history[d]-history[c])!=1)||\n(clocks[d]=='0')\n)","action":"","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}},"right_astd":{"name":"S_subclock_C","type":"Automaton","invariant":"","typed_astd":{"attributes":[],"code":"","interruptCode":"","states":[{"name":"S0","astd":{"type":"Elem","typed_astd":{}},"entry_code":"","stay_code":"","exit_code":"","invariant":""}],"transitions":[{"arrow_type":"Local","arrow":{"from_state_name":"S0","to_state_name":"S0"},"event_template":{"label":"Step","parameters":[],"when":[]},"guard":"((clocks[s]=='0') || (clocks[c]=='1'))","action":"{updateHistory(history,clocks);clocks=\"0000000\";}","step":false,"from_final_state_only":false}],"shallow_final_state_names":[],"deep_final_state_names":[],"initial_state_name":"S0"}}}}}}],"conf":[]}